-- ====================================================================================================================================
-- Script de Creación de Base de Datos
-- Sistema de Balanzas
-- Autor: Juan Armando Joyo Taype
-- Fecha: 2025/11/20
-- Versión: 1.1.0
-- Descripción: Script para el ingreso de datos iniciales.
-- ====================================================================================================================================

-- ====================================================================================================================================
-- Tabla: Usuario
-- ====================================================================================================================================

USE REPRECIPE;
GO

IF NOT EXISTS (SELECT * FROM Usuario)
BEGIN
	INSERT INTO Usuario(Nombre, ClaveHash, UsuarioCreacionId, UsuarioModificacionId)
	VALUES
		('Administrator','21232f297a57a5a743894a0e4a801fc3',1001,1001),
		('Operador','d3d9446802a44259755d38e6d163e820',1001,1001),
		('Supervisor','6512bd43d9caa6e02c990b0a82652dca',1001,1001);
	PRINT('Datos de ejemplo Usuario insertados')
END

-- ====================================================================================================================================
-- Tabla: Receta
-- ====================================================================================================================================

IF NOT EXISTS (SELECT * FROM Receta)
BEGIN
	INSERT INTO Receta(Codigo, Descripcion, UsuarioCreacionId, UsuarioModificacionId)
	VALUES
		('HAMAYONEAH1','',1001,1001),
		('HAMAYOLIGHTLAS','',1001,1001);
	PRINT('Datos de ejemplo Receta insertados')
END

-- ====================================================================================================================================
-- Tabla: TipoInsumo
-- ====================================================================================================================================
IF NOT EXISTS (SELECT * FROM TipoInsumo)
BEGIN
	INSERT INTO TipoInsumo(Codigo, Descripcion, UsuarioCreacionId, UsuarioModificacionId)
	VALUES
		('LIQUIDO','',1001,1001),
		('GRANULAR','',1001,1001);
	PRINT('Datos de ejemplo TipoInsumo insertados')
END

-- ====================================================================================================================================
-- Tabla: Balanza
-- ====================================================================================================================================
IF NOT EXISTS (SELECT * FROM Balanza)
BEGIN
	INSERT INTO Balanza(Codigo, Descripcion, UsuarioCreacionId, UsuarioModificacionId)
	VALUES
		('R71MD15','Balanza de 15kg FRIMA',1001,1001),
		('R71MD6','Balanza de 6 kg FRIMA',1001,1001);
	PRINT('Datos de ejemplo Balanza insertados')
END

-- ====================================================================================================================================
-- Tabla: Formula
-- ====================================================================================================================================
IF NOT EXISTS (SELECT * FROM Formula)
BEGIN
	INSERT INTO Formula(Codigo, Descripcion, UsuarioCreacionId, UsuarioModificacionId)
	VALUES
		('GENESIS','',1001,1001),
		('FRIMA','',1001,1001);
	PRINT('Datos de ejemplo Formula insertados')
END

-- ====================================================================================================================================
-- Tabla: RecetaVersion
-- ====================================================================================================================================
IF NOT EXISTS (SELECT * FROM RecetaVersion)
BEGIN
	INSERT INTO RecetaVersion(FormulaId, RecetaId, NumeroVersion, Estado, UsuarioCreacionId, UsuarioModificacionId)
	VALUES
		(1001,1001,1,0,1001,1001),
		(1001,1001,2,1,1001,1001),
		(1001,1002,1,1,1001,1001);
	PRINT('Datos de ejemplo RecetaVersion insertados')
END

-- ====================================================================================================================================
-- Tabla: Insumo
-- ====================================================================================================================================
IF NOT EXISTS (SELECT * FROM Insumo)
BEGIN
	INSERT INTO Insumo(Codigo, Descripcion, TipoInsumoId, Unidad, UsuarioCreacionId, UsuarioModificacionId)
	VALUES
		('HDAEVEG2','Medición por flujómetro', 1001, 'kg',1001,1001),		-- 1001
		('MC31220003','', 1001, 'kg',1001,1001),							-- 1002
		('MC31220004','', 1001, 'kg',1001,1001),							-- 1003
		('MS004RALP','', 1002, 'kg',1001,1001),								-- 1004
		('MC31220005','', 1002, 'kg',1001,1001),							-- 1005
		('MC31220001','', 1002, 'kg',1001,1001),							-- 1006
		('MC31220270','', 1002, 'kg',1001,1001),							-- 1007
		('CMC31220002','', 1001, 'kg',1001,1001),							-- 1008
		('MS00ATX01','', 1001, 'kg',1001,1001),								-- 1009
		('MC31220006','', 1001, 'kg',1001,1001),							-- 1010
		('MC31220007','', 1002, 'kg',1001,1001),							-- 1011
		('MS00CCB02','', 1001, 'kg',1001,1001),								-- 1012
		('MC31220009','', 1001, 'kg',1001,1001),							-- 1013
		('MC31220010','', 1001, 'kg',1001,1001),							-- 1014
		('MC31220050','', 1002, 'kg',1001,1001),							-- 1015
		('H20MF00001','Medición por flujómetro', 1001, 'kg',1001,1001),		-- 1016
		('MC31220011','', 1001, 'kg',1001,1001),							-- 1017
		('MC31220015','', 1001, 'kg',1001,1001),							-- 1018
		('MS005RALP','', 1002, 'kg',1001,1001),								-- 1019
		('MS006RALP','', 1002, 'kg',1001,1001),								-- 1020
		('MC31660402','', 1002, 'kg',1001,1001);							-- 1021
	PRINT('Datos de ejemplo Insumo insertados')
END

-- ====================================================================================================================================
-- Tabla: RecetaVersionDetalle
-- ====================================================================================================================================
IF NOT EXISTS (SELECT * FROM RecetaVersionDetalle)
BEGIN
	INSERT INTO RecetaVersionDetalle(RecetaVersionId, InsumoId, CantidadRequerida, ToleranciaMaxima, UsuarioCreacionId, UsuarioModificacionId)
	VALUES
		(1001, 1001, 16.0000, 0.50,1001,1001),
		(1001, 1002, 13.0000, 0.50,1001,1001),
		(1001, 1003, 10.3000, 0.50,1001,1001),
		(1001, 1004, 11.5000, 0.50,1001,1001),
		(1001, 1005, 12.1000, 0.50,1001,1001),
		(1001, 1006, 13.1000, 0.50,1001,1001),
		(1001, 1007, 14.1000, 0.50,1001,1001),
		(1001, 1008, 12.1000, 0.50,1001,1001),
		(1001, 1009, 11.1000, 0.50,1001,1001),
		(1001, 1010, 13.1000, 0.50,1001,1001),
		(1001, 1011, 12.1000, 0.50,1001,1001),
		(1001, 1012, 10.9000, 0.50,1001,1001),
		(1001, 1013, 11.8000, 0.50,1001,1001),
		(1001, 1014, 13.4000, 0.50,1001,1001),
		(1001, 1015, 14.6000, 0.50,1001,1001),
		(1001, 1016, 12.7000, 0.50,1001,1001),

		(1002, 1001, 10.0000, 0.50,1001,1001),
		(1002, 1002, 13.0000, 0.50,1001,1001),
		(1002, 1003, 10.3000, 0.50,1001,1001),
		(1002, 1004, 10.5000, 0.50,1001,1001),
		(1002, 1005, 12.1000, 0.50,1001,1001),
		(1002, 1006, 12.3000, 0.50,1001,1001),
		(1002, 1007, 12.1400, 0.50,1001,1001),
		(1002, 1008, 12.1200, 0.50,1001,1001),
		(1002, 1009, 12.4000, 0.50,1001,1001),
		(1002, 1010, 12.6000, 0.50,1001,1001),
		(1002, 1011, 13.8000, 0.50,1001,1001),
		(1002, 1012, 12.9000, 0.50,1001,1001),
		(1002, 1013, 11.1300, 0.50,1001,1001),
		(1002, 1014, 12.4000, 0.50,1001,1001),
		(1002, 1015, 12.3560, 0.50,1001,1001),
		(1002, 1016, 12.1000, 0.50,1001,1001),

		(1003, 1001, 4.0500, 0.50,1001,1001),
		(1003, 1017, 6.4000, 0.50,1001,1001),
		(1003, 1018, 2.0500, 0.50,1001,1001),
		(1003, 1019, 8.8600, 0.50,1001,1001),
		(1003, 1004, 6.0400, 0.50,1001,1001),
		(1003, 1005, 12.3000, 0.50,1001,1001),
		(1003, 1020, 14.0200, 0.50,1001,1001),
		(1003, 1021, 12.0300, 0.50,1001,1001),
		(1003, 1006, 13.5000, 0.50,1001,1001),
		(1003, 1007, 12.6400, 0.50,1001,1001),
		(1003, 1008, 11.0300, 0.50,1001,1001),
		(1003, 1011, 10.0200, 0.50,1001,1001),
		(1003, 1010, 12.4000, 0.50,1001,1001),
		(1003, 1012, 11.2000, 0.50,1001,1001),
		(1003, 1013, 13.1400, 0.50,1001,1001),
		(1003, 1014, 10.0500, 0.50,1001,1001),
		(1003, 1015, 10.0500, 0.50,1001,1001),
		(1003, 1016, 18.3000, 0.50,1001,1001);
	PRINT('Datos de ejemplo RecetaVersionDetalle insertados')
END